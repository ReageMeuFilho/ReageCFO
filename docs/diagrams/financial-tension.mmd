stateDiagram-v2
    [*] --> Available: Initial Balance

    Available --> Pending: Reserve Funds<br/>(Create Financial Tension)
    
    note right of Pending
        ğŸ’¡ TigerBeetle Pattern
        Funds held in "tension"
        Not yet committed
        Can be rolled back
    end note

    Pending --> InTransit: LayerZero Message Sent
    
    note right of InTransit
        â›“ï¸ Cross-chain Settlement
        Message in flight
        Awaiting confirmation
    end note

    InTransit --> Settled: Message Delivered âœ…
    InTransit --> Available: Settlement Failed âŒ<br/>(Automatic Rollback)
    
    note right of Settled
        âœ… Commit Complete
        Funds released
        Double-entry balanced
        Debits = Credits
    end note

    Settled --> [*]: Transaction Complete

    note left of Available
        ğŸ”’ Safety Guarantees:
        â€¢ No lost funds
        â€¢ No stuck transactions
        â€¢ Automatic rollback
        â€¢ Zero-sum ledger
    end note


